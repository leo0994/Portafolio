---
import Linkedin from "../icons/linkedin.astro";
import Github from "../icons/github.astro";
import FileCVico from "../icons/filecvico.astro";
import "../styles/footer.css";
---

<footer class="w-full mt-32 relative">
  <div class="max-w-7xl mx-auto px-6">
    <!-- Contenedor del footer -->
    <div
      class="w-full border border-white/20 rounded-xl p-5 flex flex-col items-center gap-6 bg-transparent"
    >
      <!-- Logo superior -->
      <div class="footer-logo-pill">
        <video autoplay loop muted playsinline>
          <source src="/Portafolio/videos/LogoFavorito1.mp4" type="video/mp4" />
          Tu navegador no soporta videos.
        </video>
      </div>

      <!-- Contenedor de botones centrados con scroll top al mismo nivel -->
      <div
        class="w-full flex flex-col sm:flex-row items-center justify-center gap-4"
      >
        <!-- Botones principales centrados -->
        <div class="flex flex-wrap justify-center gap-4">
          <a
            href="https://www.linkedin.com/in/leo-barrantes-928aa122a/"
            class="rounded-full border border-white/10 flex items-center gap-x-2 py-2 px-4 bg-white/5 hover:scale-110 hover:bg-white/10 transition"
            target="_blank"
          >
            <Linkedin class="w-5 h-5 text-white" />
            <span class="text-white font-semibold" data-i18n="linkedin"
              >LinkedIn</span
            >
          </a>

          <a
            href="https://github.com/leo0994"
            class="rounded-full border border-white/10 flex items-center gap-x-2 py-2 px-4 bg-white/5 hover:scale-110 hover:bg-white/10 transition"
            target="_blank"
          >
            <Github class="w-5 h-5 text-white" />
            <span class="text-white font-semibold" data-i18n="github"
              >Github</span
            >
          </a>

          <a
            href="/Portafolio/cv/LeoBarrantesCV_English.pdf"
            target="_blank"
            class="rounded-full border border-white/10 flex items-center gap-x-2 py-2 px-4 bg-white/5 hover:scale-110 hover:bg-white/10 transition"
          >
            <FileCVico class="w-5 h-5 text-white" />
            <span class="text-white font-semibold" data-i18n="ingles"
              >Inglés</span
            >
          </a>

          <a
            href="/Portafolio/cv/LeoBarrantesCV_Español.pdf"
            target="_blank"
            class="rounded-full border border-white/10 flex items-center gap-x-2 py-2 px-4 bg-white/5 hover:scale-110 hover:bg-white/10 transition"
          >
            <FileCVico class="w-5 h-5 text-white" />
            <span class="text-white font-semibold" data-i18n="espanol"
              >Español</span
            >
          </a>
        </div>

        <!-- Botón ScrollTop al mismo nivel, más pequeño -->
        <button
          id="scrollTopBtn"
          onclick="window.scrollTo({ top: 0, behavior: 'smooth' })"
          class="flex items-center justify-center w-16 h-16 rounded-full transition-all duration-300 hover:scale-110 ml-0 sm:ml-4"
          aria-label="Ir arriba"
          style="
            background: url('/Portafolio/imagen/Scrolltop.png') center / contain no-repeat;
            box-shadow: 0 0 20px rgba(0, 172, 255, 0.4);
          "
        ></button>
      </div>
    </div>

    <!-- Botón Donación -->
    <div class="w-full flex justify-center mt-6">
      <a
        href="https://buymeacoffee.com/leobarranth"
        class="rounded-full border border-yellow-400 flex items-center gap-x-2 py-2 px-6 bg-yellow-300/10 hover:scale-110 hover:bg-yellow-300/20 transition"
        target="_blank"
      >
        ☕ <span class="text-yellow-200 font-semibold" data-i18n="invitameCafe"
          >Invítame un café</span
        >
      </a>
    </div>

    <!-- Línea divisoria -->
    <hr class="my-6 border-white/20" />

    <!-- Derechos -->
    <div class="text-center text-sm text-white/80 pb-6">
      © 2025 <strong class="text-white">Leo Barrantes™</strong>. <span
        data-i18n="noReservado">Ningún derecho reservado.</span
      >
    </div>
  </div>
</footer>

<!-- Script simplificado: solo para mostrar/ocultar cuando se hace scroll -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const btn = document.getElementById("scrollTopBtn");
    if (!btn) return;

    // Mostrar/ocultar el botón basado en scroll
    function toggleVisibility() {
      if (!btn) return; // Verificación adicional

      if (window.scrollY > 300) {
        btn.style.opacity = "1";
        btn.style.visibility = "visible";
      } else {
        btn.style.opacity = "0";
        btn.style.visibility = "hidden";
      }
    }

    // Inicialmente oculto
    btn.style.opacity = "0";
    btn.style.visibility = "hidden";
    btn.style.transition = "opacity 0.3s ease, visibility 0.3s ease";

    // Escuchar scroll
    window.addEventListener("scroll", toggleVisibility);
    toggleVisibility(); // Verificar estado inicial
  });
</script>
